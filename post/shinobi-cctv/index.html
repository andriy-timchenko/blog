<!DOCTYPE html>
<html lang="en" >
  <head>
  <title>Shinobi the open source cctv solution | Andriy Timchenko Blog</title>
  <meta charset='utf-8'>
  <meta name="viewport" content ="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">


  
  
<meta name="keywords" content="Andriy Timchenko Blog">
<meta property="og:locale" content='en'>
<meta property="og:type" content="article">
<meta property="og:title" content="Shinobi - The open source CCTV solution">
<meta property="og:description" content="Shinobi is Open Source, written in Node.js, and real easy to use. It is the future of CCTV and NVR for developers and end-users alike. It is catered to by">
<meta property="og:url" content="https://blog.timchenko.pp.ua/post/shinobi-cctv/">
<meta property="og:image" content="https://blog.timchenko.pp.ua/images/post/shinobi-cctv.webp">
<link rel="canonical" href="https://blog.timchenko.pp.ua/post/shinobi-cctv/"><link rel="apple-touch-icon" sizes="180x180" href='https://blog.timchenko.pp.ua/images/icons/apple-touch-icon.png'>
<link rel="icon" type="image/png" sizes="32x32" href='https://blog.timchenko.pp.ua/images/icons/favicon-32x32.png'>
<link rel="icon" type="image/png" sizes='16x16' href='https://blog.timchenko.pp.ua/images/icons/favicon-16x16.png'>
<link rel="manifest" href='https://blog.timchenko.pp.ua/images/icons/site.webmanifest'>

<link rel="stylesheet" href="https://blog.timchenko.pp.ua/css/styles.d8dcc141be991e6097c9a498cc301d794a4bd6286fdb9d85c27a9cfd2deff05731385f3a6fa0330f4394e64e37104b60905a84e749302b5930ab7d3a5124ba86.css" integrity="sha512-2NzBQb6ZHmCXyaSYzDAdeUpL1ihv252Fwnqc/S3v8FcxOF86b6AzD0OU5k43EEtgkFqE50kwK1kwq306USS6hg==">
</head>

  <body>
    <div class="nav-drop">
  <div class="nav-body">
      <a href="https://blog.timchenko.pp.ua/about/" class="nav_item">About</a>
      <a href="https://blog.timchenko.pp.ua" class="nav_item">Blog</a>
      <a href="https://blog.timchenko.pp.ua/categories" class="nav_item">Category</a>
      <a href="https://blog.timchenko.pp.ua/tags" class="nav_item">Tag</a>
      <a href="https://blog.timchenko.pp.ua/feedback/" class="nav_item">Feedback</a>
    <div class="nav-close"></div><div class="color_mode">
<label for="mode">Toggle Dark Mode</label>
<input type="checkbox" class="color_choice" id="mode">
</div>

  </div>
</div>
<header class="nav">
  <nav class="nav-menu">
    <a href="https://blog.timchenko.pp.ua" class="nav-brand nav_item">Andriy Timchenko Blog</a>
    <div class="nav_bar-wrap">
      <div class="nav_bar"></div>
    </div>
  </nav>
</header>


    <main>
      
  <div class="wrap mt post">
    <div><p class="post_date">23. August 2022</p>
      <h1 class="post_title">Shinobi - The open source CCTV solution</h1>
      <div class="post_body">
        <div class="post_inner">
        
          
          <img src="https://blog.timchenko.pp.ua/images/post/shinobi-cctv.webp" alt="post/shinobi-cctv.webp" class="post_thumbnail">
        
          <p>Shinobi is Open Source, written in Node.js, and real easy to use. It is the future of CCTV and NVR for developers and end-users alike. It is catered to by professionals and most importantly by the one who created it.</p>
<h3 id="shinobi-docs-get-startedhttpsshinobivideodocsstart">SHINOBI DOCS <a href="https://shinobi.video/docs/start" target="_blank" rel="noopener">Get Started</a> <a href="#shinobi-docs-get-startedhttpsshinobivideodocsstart">¶</a></h3><h4 id="some-aspects"><code>Some Aspects</code> <a href="#some-aspects">¶</a></h4><p>Shinobi can be used as a Baby Monitor, Construction Site Montage Viewer, Store Camera DVR, and much more.</p>
<h4 id="defeats-limits"><code>Defeats Limits</code> <a href="#defeats-limits">¶</a></h4><p>Don&rsquo;t be held back by a maximum number of streams based on browser.</p>
<h4 id="modern-recording"><code>Modern Recording</code> <a href="#modern-recording">¶</a></h4><p>Record to <code>MP4</code> or <code>WebM</code> and open videos on your mobile device.</p>
<h4 id="realtime-data"><code>Realtime Data</code> <a href="#realtime-data">¶</a></h4><p>Websocket provides realtime events pushed to connected clients.</p>
<h4 id="requirements"><code>Requirements</code> <a href="#requirements">¶</a></h4><p>These requirements will be installed for you with The <code>Ninja Way</code>. The Ninja Way is the recommended way to install. It will allow ease in updating as well as changes to the code.</p>
<p><code>Node.js (12.x)</code>, <code>FFmpeg (Between 3.3 to 4.1)</code>, and <code>MariaDB (10.4+)</code> are the main components that Shinobi needs. With the Ninja Way it is expected that all these requirements will be fulfilled for you.</p>
<p>To get the best experience and most support it is suggested that you install on a dedicated machine with <code>Ubuntu 20.04</code> then install Shinobi the <code>Ninja Way</code>.</p>
<ol>
<li>
<p><code>Become root to use the installer and run Shinobi. Use one of the following to do so.</code></p>
</li>
<li>
<p><code>Download and run the installer.</code></p>
</li>
</ol>
<p><code>bash &lt;(curl -s https://gitlab.com/Shinobi-Systems/Shinobi-Installer/raw/master/shinobi-install.sh)</code></p>
<ol start="3">
<li>
<p><code>Once complete open port 8080 of your host in a web browser.</code></p>
</li>
<li>
<p><code>After Installation</code></p>
</li>
</ol>
<p>Login to your Super user account at <code>http://your.shinobi.video/super</code> to create your first Admin account.</p>
<p>Username : <code>admin@shinobi.video</code></p>
<p>Password : <code>admin</code></p>
<ol start="5">
<li><code>Set up Sub-Accounts</code></li>
</ol>
<p><strong>Configuration File Options (Incomplete)</strong></p>
<p><code>conf.json</code> is the file that you create from <code>conf.sample.json</code> during the install process using the following command from inside the Shinobi directory.</p>
<p><code>cp conf.sample.json conf.json</code></p>
<p>Anyway! on to what’s really important. What’s in the file itself. This is the contents of <code>conf.sample.json</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">    <span class="nt">&#34;port&#34;</span><span class="p">:</span> <span class="mi">8080</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">    <span class="nt">&#34;addStorage&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">        <span class="p">{</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;second&#34;</span><span class="p">,</span><span class="nt">&#34;path&#34;</span><span class="p">:</span><span class="s2">&#34;__DIR__/videos2&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">    <span class="nt">&#34;ssl&#34;</span><span class="p">:{</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">       <span class="nt">&#34;key&#34;</span><span class="p">:</span><span class="s2">&#34;/path/to/key/file&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">       <span class="nt">&#34;cert&#34;</span><span class="p">:</span><span class="s2">&#34;/path/to/cert/file&#34;</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">    <span class="nt">&#34;db&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">        <span class="nt">&#34;host&#34;</span><span class="p">:</span> <span class="s2">&#34;127.0.0.1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">        <span class="nt">&#34;user&#34;</span><span class="p">:</span> <span class="s2">&#34;majesticflame&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">        <span class="nt">&#34;password&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">        <span class="nt">&#34;database&#34;</span><span class="p">:</span> <span class="s2">&#34;ccio&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">        <span class="nt">&#34;port&#34;</span><span class="p">:</span><span class="mi">3306</span>
</span></span><span class="line"><span class="ln">16</span><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">    <span class="nt">&#34;mail&#34;</span><span class="p">:{</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl">        <span class="nt">&#34;service&#34;</span><span class="p">:</span> <span class="s2">&#34;gmail&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl">        <span class="nt">&#34;auth&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">20</span><span class="cl">            <span class="nt">&#34;user&#34;</span><span class="p">:</span> <span class="s2">&#34;your_email@gmail.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">21</span><span class="cl">            <span class="nt">&#34;pass&#34;</span><span class="p">:</span> <span class="s2">&#34;your_password_or_app_specific_password&#34;</span>
</span></span><span class="line"><span class="ln">22</span><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="ln">23</span><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="ln">24</span><span class="cl">    <span class="nt">&#34;cron&#34;</span><span class="p">:{</span>
</span></span><span class="line"><span class="ln">25</span><span class="cl">        <span class="nt">&#34;key&#34;</span><span class="p">:</span><span class="s2">&#34;change_this_to_something_very_random_
</span></span></span><span class="line"><span class="ln">26</span><span class="cl"><span class="s2">               _just_anything_other_than_this&#34;</span>
</span></span><span class="line"><span class="ln">27</span><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="ln">28</span><span class="cl">    <span class="nt">&#34;pluginKeys&#34;</span><span class="p">:{</span>
</span></span><span class="line"><span class="ln">29</span><span class="cl">        <span class="nt">&#34;Motion&#34;</span><span class="p">:</span><span class="s2">&#34;change_this_to_something_very_random_make_
</span></span></span><span class="line"><span class="ln">30</span><span class="cl"><span class="s2">                  _sure_to_match_/plugins/motion/conf.json&#34;</span>
</span></span><span class="line"><span class="ln">31</span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln">32</span><span class="cl"><span class="p">}</span>    
</span></span></code></pre></div><p>Available Options for <code>conf.json</code></p>
<table>
<thead>
<tr>
<th>Options</th>
<th style="text-align:center">Required</th>
<th style="text-align:center">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>cpuUsageMarker</td>
<td style="text-align:center">no</td>
<td style="text-align:center">string</td>
<td style="text-align:left">The marker that is used to search for CPU usage in <code>top</code> command. Default is <code>%Cpu</code>. Some systems, like Puppy Linux, require it be set to CPU.</td>
</tr>
<tr>
<td>defaultMjpeg</td>
<td style="text-align:center">no</td>
<td style="text-align:center">string</td>
<td style="text-align:left">A path leading to a JPEG file. This default image is needed for when the camera cannot provide frames.</td>
</tr>
<tr>
<td>doSnapshot</td>
<td style="text-align:center">no</td>
<td style="text-align:center">boolean</td>
<td style="text-align:left">By default the snapshot in the top left open its own FFMPEG process for a moment to get a single frame, You can avoid this by turning on JPEG API or setting this option to false.</td>
</tr>
<tr>
<td>updateKey</td>
<td style="text-align:center">no</td>
<td style="text-align:center">string</td>
<td style="text-align:left">For updating by API.</td>
</tr>
<tr>
<td>streamDir</td>
<td style="text-align:center">no</td>
<td style="text-align:center">string</td>
<td style="text-align:left">default is <code>/dev/shm/streams/</code>. Remember to end with <code>/</code>. Leave it undefined or null to use default. <strong>Be careful in using HLS as Stream Type. This directory should be set as somewhere in RAM</strong></td>
</tr>
<tr>
<td>videosDir</td>
<td style="text-align:center">no</td>
<td style="text-align:center">string</td>
<td style="text-align:left">default is <code>videos/</code> in the Shinobi directory. Remember to end with /. Leave it undefined or <strong>null</strong> to use default.</td>
</tr>
<tr>
<td>windowsTempDir</td>
<td style="text-align:center">no</td>
<td style="text-align:center">string</td>
<td style="text-align:left">default is C:/Windows/Temp. If your system is not located on the C: drive then you must add this option in your conf.json file.</td>
</tr>
<tr>
<td>DropboxAppKey</td>
<td style="text-align:center">no</td>
<td style="text-align:center">string</td>
<td style="text-align:left">Future releases will hide dropbox functions when this key is left null.</td>
</tr>
<tr>
<td>ip</td>
<td style="text-align:center">no</td>
<td style="text-align:center">string</td>
<td style="text-align:left">IP that is used for the Shinobi server instance. Default is undefined, which will tell the webserver to automatically choose.</td>
</tr>
<tr>
<td>port</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">int</td>
<td style="text-align:left">Port that is used for the Shinobi server instance. Default is 8080</td>
</tr>
<tr>
<td>utcOffset</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">string</td>
<td style="text-align:left">Timezone that matches your SQL database.</td>
</tr>
<tr>
<td>db</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">object</td>
<td style="text-align:left">The login information for the SQL database</td>
</tr>
<tr>
<td>db.host</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">string</td>
<td style="text-align:left">The IP address or domain name. Default is 127.0.0.1</td>
</tr>
<tr>
<td>db.user</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">string</td>
<td style="text-align:left">The user name. Default is majesticflame.</td>
</tr>
<tr>
<td>db.password</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">string</td>
<td style="text-align:left">The password. Default is no password.</td>
</tr>
<tr>
<td>db.database</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">string</td>
<td style="text-align:left">The database name. Default is ccio.</td>
</tr>
<tr>
<td>db.port</td>
<td style="text-align:center">yes</td>
<td style="text-align:center">int</td>
<td style="text-align:left">The port number for Shinobi. Default is 3306.</td>
</tr>
<tr>
<td>cron</td>
<td style="text-align:center">no</td>
<td style="text-align:center">object</td>
<td style="text-align:left">The object that contains some options for cron.js</td>
</tr>
<tr>
<td>cron.deleteOld</td>
<td style="text-align:center">no</td>
<td style="text-align:center">boolean</td>
<td style="text-align:left">cron will delete videos older than Max Number of Days per account. Default is true.</td>
</tr>
<tr>
<td>cron.deleteNoVideo</td>
<td style="text-align:center">no</td>
<td style="text-align:center">boolean</td>
<td style="text-align:left">cron will delete SQL rows that it thinks have no video files. Default is true.</td>
</tr>
<tr>
<td>cron.deleteOverMax</td>
<td style="text-align:center">no</td>
<td style="text-align:center">boolean</td>
<td style="text-align:left">cron will delete files that are over the set maximum storage per account. Default is true.</td>
</tr>
<tr>
<td>mail</td>
<td style="text-align:center">no</td>
<td style="text-align:center">object</td>
<td style="text-align:left">If your Email account uses 2-Step Authentication, like Gmail, then you will be require to create an Application Password.</td>
</tr>
<tr>
<td>ssl</td>
<td style="text-align:center">no</td>
<td style="text-align:center">object</td>
<td style="text-align:left">If you would to use SSL (Encryption) you can include this object.</td>
</tr>
<tr>
<td>ssl.key</td>
<td style="text-align:center">yes*</td>
<td style="text-align:center">string</td>
<td style="text-align:left">Required if SSL object is present. This is a reference to a file that usually ends in .key.</td>
</tr>
<tr>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:left">Example : <code>ssl/server.key</code> will direct to a folder named ssl inside your Shinobi directory.</td>
</tr>
<tr>
<td>ssl.cert</td>
<td style="text-align:center">yes*</td>
<td style="text-align:center">string</td>
<td style="text-align:left">Required if SSL object is present. This is a reference to a file that usually ends in .crt.</td>
</tr>
<tr>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:left">Example : ssl/server.crt will direct to a folder named ssl inside your Shinobi directory.</td>
</tr>
<tr>
<td>ssl.passphrase</td>
<td style="text-align:center">yes*</td>
<td style="text-align:center">string</td>
<td style="text-align:left">If your key and certificate use a passphrase you must define it or SSL will not start.</td>
</tr>
<tr>
<td>ssl.port</td>
<td style="text-align:center">no</td>
<td style="text-align:center">int</td>
<td style="text-align:left">This is the port SSL will listen on. If option is undefined 443 will be used.</td>
</tr>
<tr>
<td>language</td>
<td style="text-align:center">no</td>
<td style="text-align:center">string</td>
<td style="text-align:left">Default is en_CA. You can check the langauges folder inside the Shinobi directory for more options. You can make more by using node tools/translateLanguageFile.js.</td>
</tr>
<tr>
<td>addStorage</td>
<td style="text-align:center">no</td>
<td style="text-align:center">object</td>
<td style="text-align:left">View the sample above for how to structure this object.</td>
</tr>
<tr>
<td>passwordType</td>
<td style="text-align:center">no</td>
<td style="text-align:center">string</td>
<td style="text-align:left">This can be sha256, sha512, or md5. md5 is the default.</td>
</tr>
<tr>
<td>passwordSalt</td>
<td style="text-align:center">yes*</td>
<td style="text-align:center">string</td>
<td style="text-align:left">This is only needed if passwordType is set to sha512.</td>
</tr>
</tbody>
</table>
<h3 id="shinobi-docs-get-startedhttpsshinobivideodocsstart-full-docd">SHINOBI DOCS <a href="https://shinobi.video/docs/start" target="_blank" rel="noopener">Get Started</a> full docd <a href="#shinobi-docs-get-startedhttpsshinobivideodocsstart-full-docd">¶</a></h3>  
        </div>
        <div class="post_extra mb-2">
          
<div onclick="topFunction()" id="top" class="copy" data-before="Back To Top" data-after="Back To Top">
  <svg class="icon">
    <use xlink:href="#copy"></use>
  </svg>
</div>
<script>
backtotop = document.getElementById("top");
window.onscroll = function() {scrollFunction()};
function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    backtotop.style.display = "block";
  } else {
    backtotop.style.display = "none";
  }
}
function topFunction() {
  document.body.scrollTop = 0; 
  document.documentElement.scrollTop = 0; 
}
</script>
        </div>
        <div>
        
        </div>
      </div>
    </div>
    <a href="https://blog.timchenko.pp.ua" class="post_nav"><span class="post_next">The Latest 
      <svg class="icon icon_scale">
        <use xlink:href="#double-arrow"></use>
      </svg>
    </span></a>
  </div>

    </main>
    <footer class="footer wrap pale">
  <p>&copy;&nbsp;<span class="year"></span>&nbsp;Andriy Timchenko Blog</p>
  <p class="attribution upcase">Powered by  <a href = 'https://gohugo.io/' target = '_blank' title = 'Powered by HOGO' rel = 'nonopener'>hugo</a></p>
</footer>


<script src="https://blog.timchenko.pp.ua/js/index.min.40853a54ba5fb54986b66f5b3a75d5c248cdc334aff77fe9cca5c81413198cffff70423278566cab02428995ba81ea7de21787edfd1e0da1ed39c4260b1aceea.js"></script>

    <svg width="0" height="0" class="hidden">
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 699.428 699.428" id="copy">
    <path d="M502.714 0H240.428C194.178 0 153 42.425 153 87.429l-25.267.59c-46.228 0-84.019 41.834-84.019 86.838V612c0 45.004 41.179 87.428 87.429 87.428H459c46.249 0 87.428-42.424 87.428-87.428h21.857c46.25 0 87.429-42.424 87.429-87.428v-349.19L502.714 0zM459 655.715H131.143c-22.95 0-43.714-21.441-43.714-43.715V174.857c0-22.272 18.688-42.993 41.638-42.993l23.933-.721v393.429C153 569.576 194.178 612 240.428 612h262.286c0 22.273-20.765 43.715-43.714 43.715zm153-131.143c0 22.271-20.765 43.713-43.715 43.713H240.428c-22.95 0-43.714-21.441-43.714-43.713V87.429c0-22.272 20.764-43.714 43.714-43.714H459c-.351 50.337 0 87.975 0 87.975 0 45.419 40.872 86.882 87.428 86.882H612v306zm-65.572-349.715c-23.277 0-43.714-42.293-43.714-64.981V44.348L612 174.857h-65.572zm-43.714 131.537H306c-12.065 0-21.857 9.77-21.857 21.835 0 12.065 9.792 21.835 21.857 21.835h196.714c12.065 0 21.857-9.771 21.857-21.835 0-12.065-9.792-21.835-21.857-21.835zm0 109.176H306c-12.065 0-21.857 9.77-21.857 21.834 0 12.066 9.792 21.836 21.857 21.836h196.714c12.065 0 21.857-9.77 21.857-21.836 0-12.064-9.792-21.834-21.857-21.834z"></path>
  </symbol>
  <symbol viewBox="0 0 53 42" xmlns="http://www.w3.org/2000/svg" id="double-arrow">
    <path d="M.595 39.653a1.318 1.318 0 0 1 0-1.864L16.55 21.833a1.318 1.318 0 0 0 0-1.863L.595 4.014a1.318 1.318 0 0 1 0-1.863L2.125.62a1.318 1.318 0 0 1 1.864 0l19.35 19.349a1.318 1.318 0 0 1 0 1.863l-19.35 19.35a1.318 1.318 0 0 1-1.863 0zm29 0a1.318 1.318 0 0 1 0-1.864L45.55 21.833a1.318 1.318 0 0 0 0-1.863L29.595 4.014a1.318 1.318 0 0 1 0-1.863l1.53-1.53a1.318 1.318 0 0 1 1.864 0l19.35 19.349a1.318 1.318 0 0 1 0 1.863l-19.35 19.35a1.318 1.318 0 0 1-1.863 0z"></path>
  </symbol>
</svg>
  </body>
</html>
